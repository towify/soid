!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MA=t():e.MA=t()}(window,(function(){return function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=11)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,n,r,o,a,l,h,d,u,c,p,g;t.Style=class{constructor(){this.style={},this.values={}}getValue(e,t){let i;return i=this.style[e],i&&t&&(i=t?i.pickNumber():i),i}addRule(e,t,i=!1){if(t.indexOf(";")>0)throw new Error('value contains invalid ";" symbol');return i&&this.style[e]?this.style[e]+=t:this.style[e]=t,this.recordValue(e),this}setStyle(e){if(this.cssText)e.setAttribute("style",this.cssText),this.cssText=void 0;else{const t=this.generateCssText();t.length&&e.setAttribute("style",t)}}generateCssText(){let e="";return Object.keys(this.style).forEach(t=>!t||(e+=`${t}:${this.style[t]};`)),e}recordValue(e){switch(e){case s.Height:case s.Width:this.values[e]=this.getValue(e,!0);break;case s.PaddingLeft:case s.PaddingRight:this.values.hasHorizontalPadding=void 0!==this.getValue(e),e===s.PaddingLeft?this.values.paddingLeft=this.getValue(e,!0):this.values.paddingRight=this.getValue(e,!0);break;case s.MinHeight:this.values.height||(this.values.height=this.getValue(e,!0)),this.values.minHeight=this.getValue(e,!0);break;case s.MinWidth:this.values.width||(this.values.width=this.getValue(e,!0)),this.values.minWidth=this.getValue(e,!0)}}},function(e){e.Width="width",e.MaxWidth="max-width",e.MinWidth="min-width",e.Height="height",e.MinHeight="min-height",e.Color="color",e.BackgroundColor="background-color",e.Background="background",e.ClipPath="clip-path",e.BackgroundClip="background-clip",e.BackgroundImage="background-image",e.Opacity="opacity",e.Border="border",e.BorderTop="border-top",e.BorderBottom="border-bottom",e.BorderRight="border-right",e.BorderLeft="border-left",e.Outline="outline",e.FontSize="font-size",e.LineHeight="line-height",e.FontStyle="font-style",e.FontFamily="font-family",e.BoxSizing="box-sizing",e.Margin="margin",e.MarginTop="margin-top",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e.MarginRight="margin-right",e.PaddingTop="padding-top",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.PaddingRight="padding-right",e.WhiteSpace="white-space",e.VerticalAlign="vertical-align",e.BackgroundSize="background-size",e.BackgroundRepeat="background-repeat",e.BackgroundPosition="background-position",e.BackgroundAttachment="background-attachment",e.Filter="filter",e.TextDecoration="text-decoration",e.TextAlign="text-align",e.FontWeight="font-weight",e.Transform="transform",e.TransformOrigin="transform-origin",e.Position="position",e.WillChange="will-change",e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e.BorderRadius="border-radius",e.Display="display",e.Visibility="visibility",e.FlexFlow="flex-flow",e.FlexDirection="flex-direction",e.FlexWrap="flex-wrap",e.Flex="flex",e.Order="order",e.GridTemplateColumns="grid-template-columns",e.GridRowEnd="grid-row-end",e.GridTemplateRows="grid-template-rows",e.JustifyItems="justify-items",e.JustifyContent="justify-content",e.AlignItems="align-items",e.AlignSelf="align-self",e.GridColumn="grid-column",e.ColumnGap="column-gap",e.RowGap="row-gap",e.Cursor="cursor",e.Mask="mask",e.WebkitMaskImage="-webkit-mask-image",e.WebkitMaskSize="-webkit-mask-size",e.WebkitMask="-webkit-mask",e.WebkitMaskPosition="-webkit-mask-position",e.BoxShadow="box-shadow",e.CssFloat="float",e.Overflow="overflow",e.OverflowY="overflow-y",e.OverflowX="overflow-x",e.Transition="transition",e.TextOverflow="text-overflow",e.ZIndex="z-index",e.PointerEvents="pointer-events",e.AnimationDuration="animation-duration",e.TransitionTimingFunction="transition-timing-function",e.AnimationDelay="animation-delay",e.AnimationIterationCount="animation-iteration-count",e.AnimationName="animation-name"}(s||(s={})),t.StyleTag=s,function(e){e.ScrollPosition="scroll-position",e.Transform="transform",e.Opacity="opacity",e.LeftTop="left, top",e.Contents="contents"}(n||(n={})),t.WillChangeType=n,function(e){e.Absolute="absolute",e.Relative="relative",e.Fixed="fixed"}(r||(r={})),t.ViewPosition=r,function(e){e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e.Center="center"}(o||(o={})),t.Direction=o,function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(a||(a={})),t.Orientation=a,function(e){e.Pointer="pointer",e.Arrow="arrow",e.Grab="grab",e.Grabbing="grabbing"}(l||(l={})),t.Cursor=l,function(e){e.None="none",e.Block="block",e.Flex="flex",e.InlineBlock="inline-block",e.InlineFlex="inline-flex",e.Table="table",e.TableCell="table-cell",e.Grid="grid",e.InlineGrid="inline-grid",e.TableColumn="table-column",e.Unset="unset"}(h||(h={})),t.DisplayType=h,function(e){e.Repeat="repeat",e.RepeatX="repeat-x",e.RepeatY="repeat-y",e.None="no-repeat",e.Round="round",e.Space="space"}(d||(d={})),t.BackgroundRepeat=d,function(e){e.Center="center",e.Start="start",e.Left="left",e.Right="right",e.BaseLine="baseline",e.End="end"}(u||(u={})),t.Align=u,function(e){e.Column="column",e.Row="row"}(c||(c={})),t.FlexFlowType=c,function(e){e.NoWrap="nowrap",e.Wrap="wrap",e.WrapReverse="wrap-reverse",e.Initial="initial",e.Inherit="inherit"}(p||(p={})),t.FlexWrap=p,function(e){e.SpaceBetween="space-between",e.SpaceAround="space-around",e.Center="center",e.BaseLine="baseline",e.FlexStart="flex-start",e.FlexEnd="flex-end"}(g||(g={})),t.DisplayAlign=g},function(e,t,i){"use strict";var s,n,r,o,a,l,h=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},d=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},u=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const c=i(3),p=i(0);t.View=class{constructor(){this.style=new p.Style,this._element=document.createElement("div"),s.set(this,!0),n.set(this,!0),r.set(this,!0),o.set(this,void 0),a.set(this,void 0),l.set(this,void 0)}setAttribute(e,t){return this._element.setAttribute(e,t),this}get cssText(){return this._element.style.cssText}get isClickable(){return d(this,n)}set isClickable(e){this.setPointerEvent(e?"auto":"none"),u(this,n,e)}set isEnable(e){u(this,s,e)}get isEnable(){return d(this,s)}set isFocusable(e){u(this,r,e)}get isFocusable(){return d(this,r)}resetStyle(e){return this.style=e,this}remove(){this.clearEventListenerIfNeed(),this._element.remove(),this.onDetached()}setOrder(e){return this.style.addRule(p.StyleTag.Order,`${e}`),this}setPointerEvent(e){return this.style.addRule(p.StyleTag.PointerEvents,e),this}onMouseover(e){return!d(this,a)&&this.isEnable&&this.isFocusable&&(u(this,a,t=>{this.isEnable&&this.isFocusable&&(e(t),t.stopPropagation())}),this._element.addEventListener(c.ListenerType.Mouseover,d(this,a))),this}onMouseleave(e){return!d(this,l)&&this.isEnable&&this.isFocusable&&(u(this,l,t=>{this.isEnable&&this.isFocusable&&(e(t),t.stopPropagation())}),this._element.addEventListener(c.ListenerType.Mouseleave,d(this,l))),this}onClick(e){return!d(this,o)&&this.isEnable&&this.isClickable&&(u(this,o,t=>{this.isEnable&&this.isClickable&&(e(t),t.stopPropagation())}),this._element.addEventListener(c.ListenerType.Click,d(this,o))),this}serialize(e){return""}beforeAttached(){return h(this,void 0,void 0,(function*(){}))}onAttached(){return h(this,void 0,void 0,(function*(){}))}onShow(e){this.recoveryEventListenerIfNeed(),!e||e()}onHide(e){this.clearEventListenerIfNeed(),!e||e()}clearEventListenerIfNeed(){!d(this,o)||this._element.removeEventListener(c.ListenerType.Click,d(this,o)),!d(this,a)||this._element.removeEventListener(c.ListenerType.Mouseover,d(this,a)),!d(this,l)||this._element.removeEventListener(c.ListenerType.Mouseleave,d(this,l))}recoveryEventListenerIfNeed(){!d(this,o)||this._element.addEventListener(c.ListenerType.Click,d(this,o)),!d(this,a)||this._element.addEventListener(c.ListenerType.Mouseover,d(this,a)),!d(this,l)||this._element.addEventListener(c.ListenerType.Mouseleave,d(this,l))}onDetached(){}_prepareLifeCycle(){return h(this,void 0,void 0,(function*(){this.style.setStyle(this),yield this.beforeAttached(),yield this.onAttached()}))}updateStyle(){return this.style.setStyle(this),this}cloneCssText(){return this.style.generateCssText()}setCssText(e){return this.style.cssText=e,this}setDisplay(e){return e===p.DisplayType.None?(void 0!==this.isDisplayNone&&this.onHide(),this.isDisplayNone=!0):this.isDisplayNone&&(this.onShow(),this.isDisplayNone=!1),this.style.addRule(p.StyleTag.Display,e),this}setWidth(e){return this.style.addRule(p.StyleTag.Width,`${e}px`),this}setHeight(e){return this.style.addRule(p.StyleTag.Height,`${e}px`),this}setPercentWidth(e){return this.style.addRule(p.StyleTag.Width,`${e}%`),this}setPercentHeight(e){return this.style.addRule(p.StyleTag.Height,`${e}%`),this}setMinWidth(e){return this.style.addRule(p.StyleTag.MinWidth,`${e}px`),this}setMaxWidth(e){return this.style.addRule(p.StyleTag.MaxWidth,`${e}px`),this}setMinHeight(e){return this.style.addRule(p.StyleTag.MinHeight,`${e}px`),this}setFullParent(){return this.style.addRule(p.StyleTag.Width,"100%").addRule(p.StyleTag.Height,"100%"),this}setFullScreen(){return this.style.addRule(p.StyleTag.Width,"100vw").addRule(p.StyleTag.Height,"100vh"),this}setHorizontalPadding(e){return this.style.addRule(p.StyleTag.PaddingLeft,`${e}px`).addRule(p.StyleTag.PaddingRight,`${e}px`),this}setVerticalPadding(e){return this.style.addRule(p.StyleTag.PaddingTop,`${e}px`).addRule(p.StyleTag.PaddingBottom,`${e}px`),this}setTopPadding(e){return this.style.addRule(p.StyleTag.PaddingTop,`${e}px`),this}setBottomPadding(e){return this.style.addRule(p.StyleTag.PaddingBottom,`${e}px`),this}setLeftPadding(e){return this.style.addRule(p.StyleTag.PaddingLeft,`${e}px`),this}setRightPadding(e){return this.style.addRule(p.StyleTag.PaddingRight,`${e}px`),this}setMargin(e){return this.style.addRule(p.StyleTag.Margin,e),this}setMarginTop(e){return this.style.addRule(p.StyleTag.MarginTop,`${e}px`),this}setMarginBottom(e){return this.style.addRule(p.StyleTag.MarginBottom,`${e}px`),this}setPosition(e){return this.style.addRule(p.StyleTag.Position,e),this}setTop(e){return this.style.addRule(p.StyleTag.Top,`${e}px`),this}setBottom(e){return this.style.addRule(p.StyleTag.Bottom,`${e}px`),this}setRight(e){return this.style.addRule(p.StyleTag.Right,`${e}px`),this}setLeft(e){return this.style.addRule(p.StyleTag.Left,`${e}px`),this}setBackgroundColor(e){return this.style.addRule(p.StyleTag.BackgroundColor,`${e.value}`),this}setOpacity(e){return 0===e&&this.onHide(),1===e&&this.onShow(),this.style.addRule(p.StyleTag.Opacity,`${e}`),this}setWillChange(e){return this.style.addRule(p.StyleTag.WillChange,e),this}setOverflow(e){return this.style.addRule(p.StyleTag.Overflow,e),this}setOverflowY(e){return this.style.addRule(p.StyleTag.OverflowY,e),this}setOverflowX(e){return this.style.addRule(p.StyleTag.OverflowX,e),this}setBoxSizing(e){return this.style.addRule(p.StyleTag.BoxSizing,e),this}setBorder(e){return this.style.addRule(p.StyleTag.Border,e),this}setRightBorder(e){return this.style.addRule(p.StyleTag.BorderRight,e),this}setLeftBorder(e){return this.style.addRule(p.StyleTag.BorderLeft,e),this}setBottomBorder(e){return this.style.addRule(p.StyleTag.BorderBottom,e),this}setTopBorder(e){return this.style.addRule(p.StyleTag.BorderTop,e),this}setRadius(e){return this.style.addRule(p.StyleTag.BorderRadius,`${e}px`),this}setCursor(e){return this.style.addRule(p.StyleTag.Cursor,e),this}setFlex(e){return this.style.addRule(p.StyleTag.Flex,e),this}get width(){return this.style.values.width}get height(){return this.style.values.height}get paddingLeft(){return this.style.values.paddingLeft}get paddingRight(){return this.style.values.paddingRight}get hasHorizontalPadding(){return this.style.values.hasHorizontalPadding}},s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,l=new WeakMap},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(1),n=i(0);class r extends s.View{constructor(){super(),this.subviews=[]}addView(e){this.subviews.push(e),e._prepareLifeCycle().then(t=>{this._element.appendChild(e._element)})}setDisplay(e){return e===n.DisplayType.None?(void 0!==this.isDisplayNone&&this.onHide(),this.subviews.forEach(e=>e.onHide()),this.isDisplayNone=!0):this.isDisplayNone&&(this.onShow(),this.subviews.forEach(e=>e.onShow()),this.isDisplayNone=!1),this.style.addRule(n.StyleTag.Display,e),this}getSubviewByElement(e){return this.subviews.find(t=>t._element===e)}addDomFragment(e){e._beforeAttached().then(t=>{e.hodViews.forEach(e=>this.subviews.push(e)),this._element.appendChild(e.fragment)})}insertBefore(e,t){this._element.insertBefore(e._element,t._element)}replaceView(e,t){this._element.replaceChild(e._element,t._element)}}t.ViewGroup=r},function(e,t,i){"use strict";var s,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.WEB=0]="WEB",e[e.Mobile=1]="Mobile",e[e.Mini_Program=2]="Mini_Program"}(s||(s={})),t.Platform=s,function(e){e.Click="click",e.Input="input",e.Focus="focus",e.Blur="blur",e.Scroll="scroll",e.Mousemove="mousemove",e.Mouseover="mouseover",e.Mouseleave="mouseleave",e.Mouseout="mouseout",e.DOMNodeRemoved="DOMNodeRemoved",e.DOMNodeInserted="DOMNodeInserted",e.Animationend="animationend",e.AnimationStart="animationstart",e.VisibilityChange="visibilitychange",e.BeforeUnload="beforeunload"}(n||(n={})),t.ListenerType=n},function(e,t,i){"use strict";var s,n,r,o=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const h=i(1),d=i(0);class u extends h.View{constructor(){super(),s.set(this,document.createElement("span")),n.set(this,new d.Style),r.set(this,void 0),this.setDisplay(d.DisplayType.Flex),this.style.addRule(d.StyleTag.AlignItems,"center"),a(this,n).addRule(d.StyleTag.PointerEvents,"none").addRule(d.StyleTag.Display,d.DisplayType.InlineBlock).addRule(d.StyleTag.Width,"100%"),this.setFont("Circular,-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif !important")}get textContent(){return a(this,r)}setTextSize(e){return a(this,n).addRule(d.StyleTag.FontSize,`${e}px`),this}setFont(e){return a(this,n).addRule(d.StyleTag.FontFamily,e),this}setTextDecoration(e){return a(this,n).addRule(d.StyleTag.TextDecoration,e),this}setTextType(e){return a(this,n).addRule(d.StyleTag.FontSize,e),this}setTextWeight(e){return a(this,n).addRule(d.StyleTag.FontWeight,e),this}setTextColor(e){return a(this,n).addRule(d.StyleTag.Color,e.value),this}setTextOverflow(e){return a(this,n).addRule(d.StyleTag.TextOverflow,e),this}setOverflow(e){return a(this,n).addRule(d.StyleTag.Overflow,e),super.setOverflow(e)}setWhiteSpace(e){return a(this,n).addRule(d.StyleTag.WhiteSpace,e),this}setTextUnderLine(){return a(this,n).addRule(d.StyleTag.TextDecoration,"underline"),this}setLineHeight(e){return a(this,n).addRule(d.StyleTag.LineHeight,`${e}px`),this}setText(e){return a(this,s).textContent=e,l(this,r,e),this}setTextAlign(e){return a(this,n).addRule(d.StyleTag.TextAlign,e),this}updateStyle(){return a(this,n).setStyle(a(this,s)),super.updateStyle()}_prepareLifeCycle(){const e=Object.create(null,{_prepareLifeCycle:{get:()=>super._prepareLifeCycle}});return o(this,void 0,void 0,(function*(){a(this,n).setStyle(a(this,s)),this._element.appendChild(a(this,s)),e._prepareLifeCycle.call(this)}))}}var c,p,g,y;t.TextView=u,s=new WeakMap,n=new WeakMap,r=new WeakMap,function(e){e.Inherit="inherit",e.Large="large",e.Larger="larger",e.Medium="medium",e.Small="small",e.XXSmall="xx-small",e.XXLarge="xx-large",e.XSmall="x-small",e.XLarge="x-large"}(c||(c={})),t.TextType=c,function(e){e.Underline="underline",e.LineThrough="line-through",e.Overline="overline"}(p||(p={})),t.TextDecoration=p,function(e){e.Nowrap="nowrap",e.Pre="pre"}(g||(g={})),t.WhiteSpace=g,function(e){e.Ellipsis="ellipsis",e.Clip="clip"}(y||(y={})),t.TextOverflow=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(0);class r extends s.ViewGroup{constructor(){super(),this.setPosition(n.ViewPosition.Relative)}addView(e){e.setPosition(n.ViewPosition.Absolute),super.addView(e)}addDomFragment(e){e._beforeAttached(e=>{e.setPosition(n.ViewPosition.Absolute)}).then(t=>{this._element.appendChild(e.fragment)})}}t.RelativeLayout=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e){this._value=e}get value(){var e;return"string"==typeof this._value?null!==(e=s.names[this._value])&&void 0!==e?e:this._value:this._value.value}}t.Color=s,s.white=new s("#FFFFFF"),s.black=new s("#000000"),s.none=new s("unset"),s.names={black:"#000000",white:"#FFFFFF",red:"#FF0000",lime:"#00FF00",blue:"#0000FF",yellow:"#FFFF00",cyan:"#00FFFF",magenta:"#FF00FF",silver:"#C0C0C0",gray:"#808080",maroon:"#800000",olive:"#808000",green:"#008000",purple:"#800080",teal:"#008080",navy:"#000080"};class n{constructor(e,t,i,s){this.red=e,this.green=t,this.blue=i,this.alpha=s}get value(){return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`}static hexToRGBA(e,t=1){return n.hexToRGB(e).push(t),'rgba(rgb.join(","))'}static hexToRGB(e){let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,255&t];throw new Error("Bad Hex")}}t.RGBA=n},function(e,t,i){"use strict";var s,n=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const o=i(1),a=i(0),l=i(18);class h extends o.View{constructor(){super(),s.set(this,void 0)}setImage(e){if(!l.ValueChecker.isImage(e))throw Error("invalid image path");return n(this,s,e),this.style.addRule(a.StyleTag.BackgroundImage,`url(${e})`),this}setMode(e){switch(e){case d.ScaleToFill:this.style.addRule(a.StyleTag.BackgroundSize,"100% 100%");break;case d.AspectFit:this.style.addRule(a.StyleTag.BackgroundSize,"contain"),this.style.addRule(a.StyleTag.BackgroundRepeat,"no-repeat");break;case d.AspectFill:this.getImageSize(r(this,s),(e,t)=>{if(e<t){const i=Math.round(t/e*1e4)/100;this.style.addRule(a.StyleTag.BackgroundSize,`100% ${i}%`),this.updateStyle()}else{const i=Math.round(e/t*1e4)/100;this.style.addRule(a.StyleTag.BackgroundSize,`${i}% 100% `),this.updateStyle()}}),this.style.addRule(a.StyleTag.BackgroundRepeat,"no-repeat");break;case d.WidthFix:this.style.addRule(a.StyleTag.BackgroundSize,"cover")}return this}getImageSize(e,t){const i=new Image;i.src=e,i.onload=()=>{t(i.naturalWidth,i.naturalHeight),i.remove()}}}var d;t.ImageView=h,s=new WeakMap,function(e){e.ScaleToFill="scaleToFill",e.AspectFit="aspectFit",e.AspectFill="aspectFill",e.WidthFix="widthFx"}(d=t.ImageMode||(t.ImageMode={}))},function(e,t,i){"use strict";var s,n,r=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const a=i(3);class l{constructor(){s.set(this,{}),n.set(this,void 0),o(this,n,e=>{"visible"==document.visibilityState?r(this,s)[h.VisibilityChange].forEach(e=>e(!0)):"hidden"==document.visibilityState&&r(this,s)[h.VisibilityChange].forEach(e=>e(!1))}),document.addEventListener(a.ListenerType.VisibilityChange,r(this,n))}static getInstance(){return l.service||(l.service=new l),l.service}register(e,t){let i=r(this,s)[e];i?r(this,s)[e].push(t):(i=[t],r(this,s)[e]=i)}unregister(e,t){let i=r(this,s)[e];i.deleteItem(i.find(e=>e===t))}destroy(){document.removeEventListener("visibilitychange",r(this,n))}}var h;t.BrowserService=l,s=new WeakMap,n=new WeakMap,function(e){e.VisibilityChange="visibilitychange"}(h=t.BrowserServiceType||(t.BrowserServiceType={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(0);class r extends s.ViewGroup{constructor(e){super(),this.orientation=e,this.setDisplay(n.DisplayType.Flex).setFlexWrap(n.FlexWrap.NoWrap).setOrientation(null!=e?e:n.Orientation.Vertical)}setFlexDirection(e){return this.style.addRule(n.StyleTag.FlexDirection,e),this}setFlexWrap(e){return this.style.addRule(n.StyleTag.FlexWrap,e),this}setOrientation(e){return e===n.Orientation.Horizontal?this.setOverflowY("hidden").setOverflowX("scroll").setFlexDirection(n.FlexFlowType.Row):this.setOverflowY("scroll").setOverflowX("hidden").setFlexDirection(n.FlexFlowType.Column),this}addView(e){e.setFlex("0 0 auto"),super.addView(e)}}t.LinearLayout=r},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.DomFragment=class{constructor(){this.fragment=document.createDocumentFragment(),this.hodViews=[]}addView(e){this.hodViews.push(e)}_beforeAttached(e){return s(this,void 0,void 0,(function*(){for(const t of this.hodViews)"function"==typeof e&&e(t),yield t._prepareLifeCycle(),this.fragment.appendChild(t._element)}))}}},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(12),r=i(6),o=i(9),a=i(2),l=i(0),h=i(13),d=i(4),u=i(7),c=i(5),p=i(19),g=i(20),y=i(21),f=i(23),v=i(24);class w extends h.App{constructor(){super()}onCreate(){return s(this,void 0,void 0,(function*(){const e=new m;yield this.addFragment(new h.ChildFragmentModel(e,!0))}))}}t.Main=w;class m extends n.Fragment{constructor(){super(...arguments),this.layout=new o.LinearLayout(l.Orientation.Horizontal)}onCreateView(e){return s(this,void 0,void 0,(function*(){let t,i,s;this.layout.setWidth(900).setHeight(800).setBorder("2px solid yellow").setBackgroundColor(r.Color.black);for(let e=0;e<2;e++)t=(new a.ViewGroup).setWidth(100).setHeight(50*e).setBackgroundColor(r.Color.white).setMargin("10px"),i=(new d.TextView).setText(`Hello ${e}`).setTextColor(new r.Color("olive")).setTextType(d.TextType.Large),s=(new u.ImageView).setWidth(100).setHeight(100).setBackgroundColor(new r.Color("red")).setImage("https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1584021837757&di=bd25e53764af03e95c73c4f8e9d1c19c&imgtype=0&src=http%3A%2F%2Fimg2.thelist.com%2Fimg%2Fgallery%2Fthis-is-what-beyonce-eats-in-a-day%2Fpowered-by-plants-1524075425.jpg").setMode(u.ImageMode.WidthFix),t.addView(i),t.addView(s),this.layout.addView(t);const n=(new c.RelativeLayout).setWidth(300).setHeight(300).setBackgroundColor(new r.Color("yellow"));for(let e=0;e<2;e++){const t=(new p.Rectangle).setWidth(100).setHeight(100).setBorder("1px solid white").setLeft(10*e).setTop(10*e).setBackgroundColor(new r.Color("red"));n.addView(t)}this.layout.addView(n);const o=(new g.GridLayout).setWidth(800).setHeight(800).addColumn("100px").addColumn("auto").addRow("1fr").addRow("1fr").setRowGap(10).setColumnGap(10).setBackgroundColor(new r.Color("purple")),l=(new y.IconButton).setText("Confirm").setBackgroundColor(new r.Color("blue")).setRadius(15).setRightPadding(5).isRightIcon().setIconSize(26).setImage("resource/image/right_arrow_icon.svg").setTextColor(r.Color.white),h=(new f.Input).setPlaceholder("enter you email address").setTextType(d.TextType.Small).setRadius(15).setBorder("2px solid gray").setPlaceholderColor(new r.Color("gray")).setWidth(150).setHeight(30).setType(f.InputType.Password).onFocus(()=>{console.log("focus")}).onBlur(()=>{console.log("blur")}).onChange(e=>{console.log(e)}),w=(new v.Selection).setWidth(150).setHeight(30).setTop(100).setBackgroundColor(r.Color.white).setOptionHeight(30).setHorizontalPadding(10).setOptionSelectedBackgroundColor(new r.Color("olive")).setData(["Jack Bos","Hello Kitty","Amazing Kiss"],2).onClickOption(e=>{console.log(e,"event")});o.addView(l,0,1),o.addView(h,1,1),o.addView(w,1,1),this.layout.addView(o),e.addView(this.layout)}))}}(new w).commit()},function(e,t,i){"use strict";var s,n,r=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},o=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const l=i(2),h=i(8);t.Fragment=class{constructor(){this.contentView=new l.ViewGroup,s.set(this,[]),n.set(this,void 0),o(this,n,e=>e?this.onResume():this.onPause())}onAttach(){return r(this,void 0,void 0,(function*(){}))}onViewCreated(){return r(this,void 0,void 0,(function*(){}))}onStart(){return r(this,void 0,void 0,(function*(){}))}onResume(){return r(this,void 0,void 0,(function*(){}))}onPause(){return r(this,void 0,void 0,(function*(){}))}onDestroy(){return r(this,void 0,void 0,(function*(){}))}onDetached(){return r(this,void 0,void 0,(function*(){}))}addFragment(e){return r(this,void 0,void 0,(function*(){yield e._beforeAttached(),a(this,s).push(e)}))}replaceFragment(e,t){}removeFragment(e){return r(this,void 0,void 0,(function*(){yield e._beforeDestroyed();const t=a(this,s).find(t=>t===e);a(this,s).deleteItem(t),t.contentView.remove()}))}_beforeAttached(){return r(this,void 0,void 0,(function*(){yield this.onAttach(),yield this.onCreateView(this.contentView),yield this.onViewCreated(),yield this.onStart()}))}listenBrowserVisibility(e){e?h.BrowserService.getInstance().register(h.BrowserServiceType.VisibilityChange,a(this,n)):h.BrowserService.getInstance().unregister(h.BrowserServiceType.VisibilityChange,a(this,n))}_beforeDestroyed(){return r(this,void 0,void 0,(function*(){yield this.onDestroy(),a(this,s).forEach(e=>{e._beforeDestroyed()}),o(this,s,void 0),yield this.onDetached()}))}},s=new WeakMap,n=new WeakMap},function(e,t,i){"use strict";var s,n,r,o=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),i(14),i(15),i(16),i(17);const l=i(10),h=i(8),d=i(3);t.App=class{constructor(){s.set(this,[]),n.set(this,new l.DomFragment),r.set(this,e=>o(this,void 0,void 0,(function*(){return e?yield this.onResume():yield this.onPause()}))),window.addEventListener(d.ListenerType.BeforeUnload,()=>o(this,void 0,void 0,(function*(){yield this.onDestroy()})))}onStart(){return o(this,void 0,void 0,(function*(){a(this,s).forEach(e=>{e.fragment.listenBrowserVisibility(e.visible)})}))}onResume(){return o(this,void 0,void 0,(function*(){}))}onPause(){return o(this,void 0,void 0,(function*(){}))}onDestroy(){return o(this,void 0,void 0,(function*(){}))}addFragment(e){return o(this,void 0,void 0,(function*(){yield e.fragment._beforeAttached(),a(this,s).push(e),a(this,n).addView(e.fragment.contentView)}))}removeFragment(e){return o(this,void 0,void 0,(function*(){yield e._beforeDestroyed(),this.getTargetChildFragmentBy(e).then(e=>{a(this,s).splice(e,1)})}))}commit(){return o(this,void 0,void 0,(function*(){yield this.beforeAttachedToBody(),document.body.addDomFragment(a(this,n))}))}beforeAttachedToBody(){return o(this,void 0,void 0,(function*(){yield this.onCreate(),yield this.onStart(),h.BrowserService.getInstance().register(h.BrowserServiceType.VisibilityChange,a(this,r))}))}getTargetChildFragmentBy(e){return new Promise((t,i)=>{a(this,s).find((i,s)=>{i.fragment===e&&t(s)})||i()})}},s=new WeakMap,n=new WeakMap,r=new WeakMap;t.ChildFragmentModel=class{constructor(e,t){this.fragment=e,this.visible=t}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Array.prototype.isEmpty=function(){return!this.length},Array.prototype.lastIndex=function(){return this.length-1},Array.prototype.drop=function(e){const t=this.length,i=[];for(let s=0;s<t;s++){const t=this[s];e(t,s)||i.push(t)}return i},Array.prototype.forEachFromEnd=function(e){for(let t=this.length-1;t>=0;t--)e(this[t])},Array.prototype.firstOf=function(e){const t=this.length;for(let i=0;i<t;i++){const t=this[i];if(e(t))return t}throw new Error("there is none matched element")},Array.prototype.firstOfOrNull=function(e){const t=this.length;for(let i=0;i<t;i++){const t=this[i];if(e(t))return t}},Array.prototype.lastOfOrNull=function(e){for(let t=this.length-1;t>=0;t--){const i=this[t];if(e(i))return i}},Array.prototype.first=function(){if(!this.length)throw new Error("empty array");return this[0]},Array.prototype.last=function(){const e=this.length;if(!e)throw new Error("empty array");return this[e-1]},Array.prototype.firstOrNull=function(){return this.length?this[0]:void 0},Array.prototype.lastOrNull=function(){return this.length?this[this.length-1]:void 0},Array.prototype.contains=function(e){const t=this.length;for(let i=0;i<t;i++)if(this[i]instanceof e)return!0;return!1},Array.prototype.count=function(e){let t=0;const i=this.length;for(let s=0;s<i;s++)e(this[s])&&(t+=1);return t},Array.prototype.all=function(e){let t=!1;const i=this.length;for(let s=0;s<i;s++)e(this[s])||(t=!0);return!t},Array.prototype.any=function(e){const t=this.length;for(let i=0;i<t;i++)if(e(this[i]))return!0;return!1},Array.prototype.none=function(e){const t=this.length;for(let i=0;i<t;i++)if(e(this[i]))return!1;return!0},Array.prototype.deleteItem=function(e){const t=this.indexOf(e);t>-1&&this.splice(t,1)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),HTMLElement.prototype.addDomFragment=function(e){e._beforeAttached().then(t=>{this.appendChild(e.fragment)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Number.prototype.forEach=function(e){for(let t=0;t<this;t++)e(t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),String.prototype.isEmpty=function(){return 0===this.length},String.prototype.pickNumber=function(){const e=this.replace(/[^0-9]/gi,"");return e?parseInt(e):void 0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ValueChecker=class{static isHexColor(e){return new RegExp("^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$").test(e)}static isRGBAColor(e){return new RegExp("/(^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$)|(^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+)(,\\s*\\d+\\.\\d+)*\\)$)/").test(e)}static isEmail(e){return new RegExp(/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/).test(e)}static isPhoneNumber(e){return/^[1][3,4,5,7,8][0-9]{9}$/.test(e)}static isValidPassword(e){return new RegExp("(?=.*[0-9])(?=.*[a-zA-Z]).{8,30}").test(e)}static isIdentification(e){return new RegExp("/(^\\d{15}$)|(^\\d{17}([0-9]|X|x)$)/").test(e)}static isURL(e){return new RegExp("/^http:\\/\\/.+\\./").test(e)}static isImage(e){return/^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i.test(e)||/(?:bmp|cis\-cod|gif|ief|jpg|svg|jpeg|pipeg|png|svg\+xml|tiff|x\-cmu\-raster|x\-cmx|x\-icon|x\-portable\-anymap|x\-portable\-bitmap|x\-portable\-graymap|x\-portable\-pixmap|x\-rgb|x\-xbitmap|x\-xpixmap|x\-xwindowdump)$/i.test(e)}static isValidSMSCode(e){return new RegExp("^\\d{6}$").test(e)}static isNotNull(e,t){return e?(t(e),new s(!1)):new s(!0)}};class s{constructor(e,t){this.status=e,this.value=t}orElse(e){this.status&&e()}isNotNull(e){return this.status||e(this.value),this}}t.Nullable=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(1);class n extends s.View{constructor(){super()}}t.Rectangle=n},function(e,t,i){"use strict";var s,n,r,o,a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const h=i(0),d=i(1),u=i(5);class c extends d.View{constructor(){super(),this.subviews=[],s.set(this,[]),n.set(this,[]),r.set(this,0),o.set(this,0),this.setDisplay(h.DisplayType.Grid)}setColumnGap(e){return this.style.addRule(h.StyleTag.ColumnGap,`${e}px`),this}setRowGap(e){return this.style.addRule(h.StyleTag.RowGap,`${e}px`),this}updateGridTemplateColumns(){return this.style.addRule(h.StyleTag.GridTemplateColumns,a(this,s).join(" ")),this}updateGridTemplateRows(){return this.style.addRule(h.StyleTag.GridTemplateRows,a(this,n).join(" ")),this}addColumn(e){return l(this,o,a(this,o)+1),a(this,s).push(e),this.updateGridTemplateColumns(),this.addSubview(),this}addRow(e){return l(this,r,a(this,r)+1),a(this,n).push(e),this.updateGridTemplateRows(),this.addSubview(),this}addView(e,t,i){if(!this.subviews.length)throw Error("you don't have column or row can add view, Add them before you add view");if(1===this.subviews.length)this.subviews[0].addView(e);else{if(t>=a(this,r)||i>=a(this,o))throw Error("invalid row number or column number");{let s=Math.abs(t*a(this,o)+i);this.subviews[s].addView(e)}}}addSubview(){const e=a(this,r)||1,t=a(this,o)||1;(Math.abs(e*t)-this.subviews.length).forEach(e=>{const t=(new u.RelativeLayout).setPercentHeight(100).setPercentWidth(100);this.subviews.push(t),t._prepareLifeCycle().then(e=>{this._element.appendChild(t._element)})})}}t.GridLayout=c,s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap},function(e,t,i){"use strict";var s,n,r,o=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},a=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const h=i(22),d=i(7),u=i(0);class c extends h.Button{constructor(){super(),s.set(this,new d.ImageView),n.set(this,!0),r.set(this,void 0),a(this,s).setPointerEvent("none").setFullParent(),this.setDisplay(u.DisplayType.Grid),this.style.addRule(u.StyleTag.AlignItems,u.Align.Center),this.style.addRule(u.StyleTag.JustifyItems,u.Align.Center)}setHeight(e){return l(this,r,e),super.setHeight(e)}setMinHeight(e){return l(this,r,e),super.setMinHeight(e)}setGap(e){return this.style.addRule(u.StyleTag.ColumnGap,`${e}px`),this}setIconSize(e){return l(this,r,e),a(this,s).setWidth(e).setHeight(e),this}isRightIcon(){return a(this,s).setOrder(1),l(this,n,!1),this}setImage(e){return a(this,s).setImage(e).setMode(d.ImageMode.AspectFit),this}_prepareLifeCycle(){const e=Object.create(null,{_prepareLifeCycle:{get:()=>super._prepareLifeCycle}});return o(this,void 0,void 0,(function*(){const t=a(this,n)?`${a(this,r)}px auto`:`auto ${a(this,r)}px`;this.style.addRule(u.StyleTag.GridTemplateColumns,t),yield a(this,s)._prepareLifeCycle(),this._element.appendChild(a(this,s)._element),e._prepareLifeCycle.call(this)}))}}t.IconButton=c,s=new WeakMap,n=new WeakMap,r=new WeakMap},function(e,t,i){"use strict";var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=i(4),r=i(0);class o extends n.TextView{constructor(){super(),this.setTextType(n.TextType.Inherit).setCursor(r.Cursor.Pointer).setOverflow("hidden").setTextAlign(r.Align.Left).setTextWeight("500").setMinWidth(60)}beforeAttached(){const e=Object.create(null,{beforeAttached:{get:()=>super.beforeAttached}});return s(this,void 0,void 0,(function*(){e.beforeAttached.call(this),this.setMinHeight(30)}))}setRadius(e){return this.hasHorizontalPadding||this.setLeftPadding(e).setRightPadding(e),super.setRadius(e)}}t.Button=o},function(e,t,i){"use strict";var s,n,r,o,a,l,h,d,u,c,p=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},g=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},y=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const f=i(0),v=i(5),w=i(4),m=i(6),T=i(3),x=i(7);class b extends v.RelativeLayout{constructor(){super(),s.set(this,new w.TextView),n.set(this,document.createElement("input")),r.set(this,new x.ImageView),o.set(this,new f.Style),a.set(this,void 0),l.set(this,void 0),h.set(this,void 0),d.set(this,!0),u.set(this,!1),c.set(this,12),this.setDisplay(f.DisplayType.Flex).setMinHeight(30).setOverflow("hidden").setBoxSizing("border-box").setHorizontalPadding(15).setBackgroundColor(m.Color.white),g(this,r).setWidth(g(this,c)).setHeight(g(this,c)).setRightPadding(10).setRight(0).setDisplay(f.DisplayType.None).setImage("resource/image/close_icon.svg").setMode(x.ImageMode.AspectFit).setCursor(f.Cursor.Pointer).onClick(e=>{this.setValue(""),y(this,u,!1),g(this,s).setOpacity(1).updateStyle(),g(this,r).setDisplay(f.DisplayType.None).updateStyle()});const e=`calc(100% - ${(this.paddingLeft||0)+(this.paddingRight||0)}px - ${g(this,c)}px)`;this.style.addRule(f.StyleTag.AlignItems,f.Align.Center),g(this,o).addRule(f.StyleTag.Width,e).addRule(f.StyleTag.Height,"100%").addRule(f.StyleTag.Outline,"none").addRule(f.StyleTag.Border,"none").addRule(f.StyleTag.BoxSizing,"border-box").addRule(f.StyleTag.Position,f.ViewPosition.Absolute).addRule(f.StyleTag.Background,"none"),g(this,s).setPointerEvent("none").setLeftPadding(3).setWhiteSpace(w.WhiteSpace.Nowrap).setPercentWidth(80).setOverflow("hidden").setTextOverflow(w.TextOverflow.Ellipsis)}get value(){return g(this,n).value}removeClearButton(){return y(this,d,!1),g(this,r).remove(),g(this,o).addRule(f.StyleTag.Width,"100%"),g(this,s).setPercentWidth(100),this}setValue(e){return g(this,n).value=e,e.length&&g(this,s).setOpacity(0).updateStyle(),this}setType(e){switch(e){case S.Tel:g(this,n).autocomplete="tel";break;case S.NewPassword:g(this,n).autocomplete="new-password"}return g(this,n).type=e,this}onShow(){super.onShow(),!g(this,a)||g(this,n).addEventListener(T.ListenerType.Focus,g(this,a)),!g(this,l)||g(this,n).addEventListener(T.ListenerType.Blur,g(this,l)),!g(this,h)||g(this,n).addEventListener(T.ListenerType.Input,g(this,h))}onHide(){super.onHide(),!g(this,a)||g(this,n).removeEventListener(T.ListenerType.Focus,g(this,a)),!g(this,l)||g(this,n).removeEventListener(T.ListenerType.Blur,g(this,l)),!g(this,h)||g(this,n).removeEventListener(T.ListenerType.Input,g(this,h))}onFocus(e){return!g(this,a)&&this.isEnable&&this.isFocusable&&(y(this,a,t=>{this.isEnable&&this.isFocusable&&(e(),this.value.length||g(this,s).setOpacity(0).updateStyle(),t.stopPropagation())}),g(this,n).addEventListener(T.ListenerType.Focus,g(this,a))),this}onChange(e){return!g(this,h)&&this.isEnable&&this.isFocusable&&(y(this,h,t=>{this.isEnable&&this.isFocusable&&(this.value.length&&!g(this,u)?(this.showClearButton(!0),y(this,u,!0)):this.value.length||(this.showClearButton(!1),y(this,u,!1)),e(this.value),t.stopPropagation())}),g(this,n).addEventListener(T.ListenerType.Input,g(this,h))),this}onBlur(e){return!g(this,l)&&this.isEnable&&this.isFocusable&&(y(this,l,t=>{this.isEnable&&this.isFocusable&&(e(),this.value.length||g(this,s).setOpacity(1).updateStyle(),t.stopPropagation())}),g(this,n).addEventListener(T.ListenerType.Blur,g(this,l))),this}setTextSize(e){return g(this,o).addRule(f.StyleTag.FontSize,`${e}px`),g(this,s).setTextSize(e),this}setTextColor(e){return g(this,o).addRule(f.StyleTag.Color,`${e.value}`),this}setTextWeight(e){g(this,o).addRule(f.StyleTag.FontWeight,e)}setTextType(e){return g(this,o).addRule(f.StyleTag.FontSize,e),g(this,s).setTextType(e),this}setPlaceholder(e){return g(this,s).setText(e),this}setPlaceholderColor(e){return g(this,s).setTextColor(e),this}onDetached(){g(this,n).removeEventListener(T.ListenerType.Focus,g(this,a)),g(this,n).removeEventListener(T.ListenerType.Blur,g(this,a)),super.onDetached()}_prepareLifeCycle(){const e=Object.create(null,{_prepareLifeCycle:{get:()=>super._prepareLifeCycle}});return p(this,void 0,void 0,(function*(){g(this,o).setStyle(g(this,n)),this._element.appendChild(g(this,n)),this.addView(g(this,r)),this.addView(g(this,s)),e._prepareLifeCycle.call(this)}))}showClearButton(e){return e&&g(this,d)?g(this,r).setDisplay(f.DisplayType.Block).updateStyle():g(this,r).setDisplay(f.DisplayType.None).updateStyle(),this}}var S;t.Input=b,s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakMap,c=new WeakMap,function(e){e.Password="password",e.NewPassword="new-password",e.Email="email",e.File="file",e.Number="number",e.Search="search",e.Tel="tel",e.Text="text",e.URL="url"}(S=t.InputType||(t.InputType={}))},function(e,t,i){"use strict";var s,n,r,o,a,l,h,d=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},u=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i};Object.defineProperty(t,"__esModule",{value:!0});const p=i(4),g=i(5),y=i(10),f=i(9),v=i(0),w=i(6);class m extends g.RelativeLayout{constructor(){let e;super(),s.set(this,new p.TextView),n.set(this,new f.LinearLayout),r.set(this,!1),o.set(this,new v.Style),a.set(this,void 0),l.set(this,void 0),h.set(this,void 0),this.setBoxSizing("border-box"),u(this,s).setBoxSizing("border-box").setMinHeight(30).setText("Default").setTextType(p.TextType.Small).onClick(e=>this.switchDatalist()),u(this,n).setBoxSizing("border-box").setTop(u(this,s).height).setDisplay(v.DisplayType.None).setOrientation(v.Orientation.Vertical).onMouseover(t=>{e&&e!==u(this,h)&&e.setBackgroundColor(w.Color.none).updateStyle();const i=u(this,n).getSubviewByElement(t.target);u(this,l)&&i.setBackgroundColor(u(this,l)).updateStyle(),e=i}).onMouseleave(t=>{e&&e!==u(this,h)&&e.setBackgroundColor(w.Color.none).updateStyle()}).onClick(e=>{if(u(this,a)){const t=u(this,n).getSubviewByElement(e.target);u(this,a).call(this,null==t?void 0:t.textContent),u(this,s).setText(null==t?void 0:t.textContent),u(this,h)!==t&&(u(this,h).setBackgroundColor(w.Color.white).updateStyle(),c(this,h,t)),this.switchDatalist()}}),u(this,o).addRule(v.StyleTag.Cursor,v.Cursor.Pointer).addRule(v.StyleTag.Display,v.DisplayType.Flex).addRule(v.StyleTag.AlignItems,"center")}setBackgroundColor(e){return u(this,s).setBackgroundColor(e),u(this,n).setBackgroundColor(e),this}onClickOption(e){return c(this,a,e),this}setListBackgroundColor(e){return u(this,n).setBackgroundColor(e),this}setOptionSelectedBackgroundColor(e){return c(this,l,e),this}setSelectionTextType(e){return u(this,s).setTextType(e),this}setOptionTextType(e){u(this,o).addRule(v.StyleTag.FontSize,e)}setHorizontalPadding(e){return u(this,s).setHorizontalPadding(e),u(this,o).addRule(v.StyleTag.PaddingLeft,`${e}px`),u(this,o).addRule(v.StyleTag.PaddingRight,`${e}px`),super.setHorizontalPadding(e)}setOptionHeight(e){return u(this,o).addRule(v.StyleTag.Height,`${e}px`),this}setWidth(e){return u(this,s).setWidth(e),u(this,n).setWidth(e),super.setWidth(e)}setData(e,t){let i,r=new y.DomFragment;return e.forEach((e,n)=>{i=(new p.TextView).setTextType(p.TextType.Small).resetStyle(u(this,o)).setText(e),n===t&&(u(this,s).setText(e),c(this,h,i),r._beforeAttached(e=>{e===i&&e.setBackgroundColor(u(this,l))})),r.addView(i)}),u(this,n).addDomFragment(r),this}switchDatalist(){u(this,n).setDisplay(u(this,r)?v.DisplayType.None:v.DisplayType.Flex).updateStyle(),c(this,r,!u(this,r))}beforeAttached(){const e=Object.create(null,{beforeAttached:{get:()=>super.beforeAttached}});return d(this,void 0,void 0,(function*(){this.addView(u(this,s)),this.addView(u(this,n)),e.beforeAttached.call(this)}))}}t.Selection=m,s=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakMap,l=new WeakMap,h=new WeakMap}])}));